{% load tags_extra %}

<div id="procedure_line_{{i}}">
    <div class="row">
        <div class="col-xs-4 placeholder label-placeholder">Diagnonsis Pointer</div>
        <div class="col-xs-2">
            {% with 'dx_pt_s1_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'dx_pt_s2_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'dx_pt_s3_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'dx_pt_s4_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
    </div>
    <p></p>

    <div class="row">
        <div class="col-xs-4">
            {% with 'cpt_code_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'mod_a_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'mod_b_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'mod_c_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'mod_d_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
    </div>
    <p></p>

    <div class="row">
        <div class="col-xs-4">
            {% with 'service_start_date_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-3">
            {% with 'place_of_service_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2">
            {% with 'emg_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-3">
            {% with 'cpt_charge_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
    </div>
    <p></p>


    <div class="row">
        <div class="col-xs-4">
            <button type="button" class="btn btn-info-outline btn-sm" id="btn_calc_{{i}}" data-toggle="collapse" data-target="#collapse_{{i}}" aria-expanded="false" aria-controls="collapse_{{i}}" style="display:none">Calculator</button>
            <button type="button" class="btn btn-secondary btn-sm" id="btn_druginfo_{{i}}" data-toggle="collapse" data-target="#collapse2_{{i}}" aria-expanded="false" aria-controls="collapse2_{{i}}" style="display:none">Drug Information</button>
            <label for="trigger_{{i}}" onclick="dropDown(this,{{i}});">
                <input type="checkbox" id="trigger_{{i}}" checked data-toggle="toggle" data-on="Calculator" data-off="Drug Information" data-onstyle="success" data-offstyle="danger" style="width:100px">
            </label>
            <input id="trigger_calc_{{i}}" style="display:none">
            <input id="trigger_drug_{{i}}" style="display:none">
        </div>
        <div class="col-xs-8">
            {% with 'note_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
    </div>
    <hr>


    <div class="collapse" id="collapse_{{i}}">
        <div class="well row">
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_start_time_{{i}}">Start Time</label>
                    <div class="input-group bootstrap-timepicker timepicker">
                        {% with 'start_time_'|add:i as fieldName %}
                        {{ procedure_form|getField:fieldName }}
                        {% endwith %}
                        <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_end_time_{{i}}">End Time</label>
                    <div class="input-group bootstrap-timepicker timepicker">
                        {% with 'end_time_'|add:i as fieldName %}
                        {{ procedure_form|getField:fieldName }}
                        {% endwith %}
                        <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-2">
                <div class="form-group">
                    <label for="id_base_units_{{i}}">Base Units</label>
                    {% with 'base_units_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
            <div class="col-lg-2 col-md-2">
                <div class="form-group">
                    <label for="id_time_units_{{i}}">Time Units</label>
                    {% with 'time_units_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
            <div class="col-lg-2 col-md-2">
                <div class="form-group">
                    <label for="id_fees_{{i}}">Fees</label>
                    {% with 'fees_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>


    <div class="collapse" id="collapse2_{{i}}">
        <div class="well row">
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_proc_code_{{i}}">Proc. code description</label>
                    {% with 'proc_code_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_ndc_{{i}}">NDC</label>
                    {% with 'ndc_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_qty_{{i}}">Quantity</label>
                    {% with 'qty_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
            <div class="col-lg-3 col-md-3">
                <div class="form-group">
                    <label for="id_unit_measure">Unit of Measure</label>
                    {% with 'unit_'|add:i as fieldName %}
                    {{ procedure_form|getField:fieldName }}
                    {% endwith %}
                </div>
            </div>
        </div>
    </div>
    <p></p>


    <div class="row">
        <div class="col-xs-4 pull-right">
            {% with 'total_'|add:i as fieldName %}
            {{ procedure_form|getField:fieldName }}
            {% endwith %}
        </div>
        <div class="col-xs-2 pull-right" style="text-align:right;">
            <label style="height:34px;line-height:34px;">Total</label>
        </div>
    </div>

    <hr>
</div>


<script>
    bindCollapse({{i}});
</script>
